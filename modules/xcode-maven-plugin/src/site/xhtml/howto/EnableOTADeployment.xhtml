<!--
  #%L
  Xcode Maven Plugin
  %%
  Copyright (C) 2012 SAP AG
  %%
  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at
  
       http://www.apache.org/licenses/LICENSE-2.0
  
  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
  #L%
  -->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>How to enable Over-The-Air Deployment</title>
<script type="text/javascript" src="http://code.jquery.com/jquery-1.4.2.min.js"></script>
<script type="text/javascript" src="../js/lightbox_me/jquery.lightbox_me.js"></script>
<script type="text/javascript" src="../js/image_lightbox.js"></script>
</head>

<body>

	<h1>How to enable Over-The-Air Deployment</h1>

	<p>
	This is a step-by-step guide, describing how the Xcode-Maven-Plugin can support Over-The-Air (OTA) Deployment.<br/>
	In <a href="http://help.apple.com/iosdeployment-apps">Apples Documentation</a> you find more information about 
	<a href="http://help.apple.com/iosdeployment-apps/mac/1.1/#app43ad871e">Over-The-Air Deployment</a> in general.
	</p>
	
	<h2>Introduction</h2>
	
	<p>
	Besides the Xcode-Maven-Plugin we provide an <a href="http://github.com/sap-production/OTAService">OTA Service</a> 
	(detailed information can be found on the project page).<br/>
	This service is able to generate on-the-fly an install html page (henceforth referred to as <tt>install page</tt>) and 
	the manifest plist file (<tt>manifest plist</tt>) needed for OTA deployment, based on the provided parameters and the referer.
	The Xcode-Maven-Plugin during the build generates an html page (henceforth referred to as <tt>iframe page</tt>) containing 
	an iframe being populated with the 'install page' generated by the specified OTA service.
	</p>
	
	<p>
	By providing the IPA file and the 'iframe page', generated during the build, next to eachother on a web server users can access the 'iframe page' using their devices.
	For users it is transparent that the OTA service generates the 'install page' on the fly. By clicking the "install" button and confirming the dialog the App will be installed on the device.
	</p>
	
	<h2>Xcode-Maven-Plugin build configuration</h2>
	<p>
	<b>Prerequisite</b><br/>
	You already have an OTA Service deployed and running. The next chapter describes an example how to achieve this.
	</p>
	
	<p>
	To enable the generation of the 'iframe page' you have to specify the 
	<a href="http://sap-production.github.io/xcode-maven-plugin/site/generate-ota-html-mojo.html#miosOtaServiceUrl">"HTML" OTA Service URL</a> (used by the
	<a href="http://sap-production.github.io/xcode-maven-plugin/site/generate-ota-html-mojo.html">generate-ota-html mojo</a>)
	in the settings.xml, the pom.xml or as Java system property. 
	E.g. <tt>-Dmios.ota-service.url=http://myserver:8080/ota-service/HTML</tt>
	</p>
	
	<p>
	In our case we use a <a href="http://hudson-ci.org/">Hudson</a> CI server to build our Xcode Apps. The generated IPA file and 'iframe page' are archived for each build and are accessible via http.<br/>
	Testers can navigate to the build results, open the 'iframe page' and click the install link to install the IPA file of this build.
	</p>

	<p><img class="screenshot" width="200" height="150" src="EnableOTADeployment-hudson.jpg" title="Hudson CI server providing IPA and OTA 'iframe page' for each build"/></p>
	
	<p>
	Since the artifacts are deployed to a central Maven repository it is also possible to find the 'iframe page' ("-ota.htm") artifact in Nexus, open it and install the IPA from the Maven repository.<br/>
	It is even possible to copy the IPA and 'iframe page' to another server (e.g. an internal "App Catalog") - OTA Service always makes sure the IPA is installed from the location next to the 'iframe page'.
	</p>

	<p><img class="screenshot" width="200" height="150" src="EnableOTADeployment-installerPage.jpg" title="Opened 'iframe page' with 'install page' content generate by the OTA Service. Clicking the 'Install Over-The-Air' button will install the App." /></p>

	<h2>Hosting an OTA Service</h2>
	
	<p>More soon...</p>
	

</body>
</html>