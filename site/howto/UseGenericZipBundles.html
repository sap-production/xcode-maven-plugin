<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia at May 29, 2013
 | Rendered using Apache Maven Fluido Skin 1.3.0
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="Date-Creation-yyyymmdd" content="20121128" />
    <meta name="Date-Revision-yyyymmdd" content="20130529" />
    <meta http-equiv="Content-Language" content="en" />
    <title>Xcode Maven Plugin - Usage</title>
    <link rel="stylesheet" href="../css/apache-maven-fluido-1.3.0.min.css" />
    <link rel="stylesheet" href="../css/site.css" />
    <link rel="stylesheet" href="../css/print.css" media="print" />

      
    <script type="text/javascript" src="../js/apache-maven-fluido-1.3.0.min.js"></script>

    
            </head>
        <body class="topBarDisabled">
          
                
                    
    
        <div class="container-fluid">
          <div id="banner">
        <div class="pull-left">
                                <div id="bannerLeft">
                <h2>Xcode Maven Plugin</h2>
                </div>
                      </div>
        <div class="pull-right">  </div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
                
            
                  <li id="publishDate">Last Published: 2013-05-29</li>
                  <li class="divider">|</li> <li id="projectVersion">Version: 1.9.3</li>
                      
                
            
      
                            </ul>
      </div>

                  
      <div class="row-fluid">
        <div id="leftColumn" class="span2">
          <div class="well sidebar-nav">
                
            
                <ul class="nav nav-list">
                    <li class="nav-header">Overview</li>
                                
      <li>
    
                          <a href="../index.html" title="Introduction">
          <i class="none"></i>
        Introduction</a>
            </li>
                  
      <li>
    
                          <a href="../plugin-info.html" title="Goals">
          <i class="none"></i>
        Goals</a>
            </li>
                  
      <li>
    
                          <a href="../usage.html" title="Usage">
          <i class="none"></i>
        Usage</a>
            </li>
                  
      <li>
    
                          <a href="../faq.html" title="FAQ">
          <i class="none"></i>
        FAQ</a>
            </li>
                  
      <li>
    
                          <a href="../release-notes.html" title="Release Notes">
          <i class="none"></i>
        Release Notes</a>
            </li>
                              <li class="nav-header">User Guide</li>
                                
      <li>
    
                          <a href="../userguide/Project Structure.html" title="Project Structure">
          <i class="none"></i>
        Project Structure</a>
            </li>
                  
      <li>
    
                          <a href="../userguide/Advanced Project Structure - Modules.html" title="Advanced Project Structure - Modules">
          <i class="none"></i>
        Advanced Project Structure - Modules</a>
            </li>
                  
      <li>
    
                          <a href="../userguide/Project Pom.html" title="Project Pom">
          <i class="none"></i>
        Project Pom</a>
            </li>
                  
      <li>
    
                          <a href="../userguide/Version information.html" title="Version information">
          <i class="none"></i>
        Version information</a>
            </li>
                                                                                
      <li>
    
                          <a href="../examples/AppBuildExample.html" title="Apps">
          <i class="icon-chevron-down"></i>
        Apps</a>
                    <ul class="nav nav-list">
                      
      <li>
    
                          <a href="../userguide/Packaging the Xcode project with its resolved dependencies.html" title="Packaging the Xcode project with its resolved dependencies">
          <i class="none"></i>
        Packaging the Xcode project with its resolved dependencies</a>
            </li>
                      
      <li>
    
                          <a href="../userguide/Xcode Applications Artifacts Structure.html" title="Xcode Applications Artifacts Structure">
          <i class="none"></i>
        Xcode Applications Artifacts Structure</a>
            </li>
              </ul>
        </li>
                                                                                                                    
      <li>
    
                          <a href="../examples/LibBuildExample.html" title="Libraries">
          <i class="icon-chevron-down"></i>
        Libraries</a>
                    <ul class="nav nav-list">
                      
      <li>
    
                          <a href="../userguide/Fat Binaries.html" title="Fat Binaries">
          <i class="none"></i>
        Fat Binaries</a>
            </li>
                      
      <li>
    
                          <a href="../userguide/Generation and Consumption Libraries with Bundles.html" title="Generation and Consumption Libraries with Bundles">
          <i class="none"></i>
        Generation and Consumption Libraries with Bundles</a>
            </li>
                      
      <li>
    
                          <a href="../userguide/Generation of API Docs with Doxygen.html" title="Generation of API Docs with Doxygen">
          <i class="none"></i>
        Generation of API Docs with Doxygen</a>
            </li>
                      
      <li>
    
                          <a href="../userguide/Xcode Libraries Artifacts Structure.html" title="Xcode Libraries Artifacts Structure">
          <i class="none"></i>
        Xcode Libraries Artifacts Structure</a>
            </li>
              </ul>
        </li>
                  
      <li>
    
                          <a href="../examples/FmwkBuildExample.html" title="Static Xcode Frameworks">
          <i class="none"></i>
        Static Xcode Frameworks</a>
            </li>
                                                                                                  
      <li>
    
                          <a href="../userguide/Dependencies.html" title="Dependency Management">
          <i class="icon-chevron-down"></i>
        Dependency Management</a>
                    <ul class="nav nav-list">
                      
      <li>
    
                          <a href="../userguide/Consumption of Libraries.html" target="_self" title="Consumption of Libraries">
          <i class="none"></i>
        Consumption of Libraries</a>
            </li>
                      
      <li>
    
                          <a href="../userguide/Consumption of Frameworks.html" title="Consumption of Frameworks">
          <i class="none"></i>
        Consumption of Frameworks</a>
            </li>
                      
      <li>
    
                          <a href="../userguide/Workspace.html" title="Develop Multiple Dependent Xcode Projects">
          <i class="none"></i>
        Develop Multiple Dependent Xcode Projects</a>
            </li>
              </ul>
        </li>
                              <li class="nav-header">How to</li>
                                
      <li>
    
                          <a href="../howto/IncludeMavenMetadataIntoALibrary.html" title="How to include maven metadata into a library">
          <i class="none"></i>
        How to include maven metadata into a library</a>
            </li>
                  
      <li class="active">
    
            <a href="#"><i class="none"></i>How to use generic ZIP bundles</a>
          </li>
                  
      <li>
    
                          <a href="../howto/HandlingAmbiguousDeveloperIdentities.html" title="How to handle ambiguous developer identities">
          <i class="none"></i>
        How to handle ambiguous developer identities</a>
            </li>
                  
      <li>
    
                          <a href="../howto/BuildCordovaHelloWorldExample.html" title="How to build the Cordova HelloWorld project">
          <i class="none"></i>
        How to build the Cordova HelloWorld project</a>
            </li>
                  
      <li>
    
                          <a href="../howto/EnableOTADeployment.html" title="How to enable Over-The-Air Deployment">
          <i class="none"></i>
        How to enable Over-The-Air Deployment</a>
            </li>
                              <li class="nav-header">Project Documentation</li>
                                                                                                                                                          
      <li>
    
                          <a href="../project-info.html" title="Project Information">
          <i class="icon-chevron-right"></i>
        Project Information</a>
                  </li>
                                                                                                                          
      <li>
    
                          <a href="../project-reports.html" title="Project Reports">
          <i class="icon-chevron-right"></i>
        Project Reports</a>
                  </li>
            </ul>
                
            
                
          <hr class="divider" />

           <div id="poweredBy">
                   
    <script type="text/javascript" src="https://apis.google.com/js/plusone.js"></script>

    
    <div class="g-plusone" data-href="https://github.com/sap-production/xcode-maven-plugin/xcode-maven-plugin" data-size="tall" ></div>

                   <div class="clear"></div>
                   
        
        
        
    <iframe src="http://www.facebook.com/plugins/like.php?href=https://github.com/sap-production/xcode-maven-plugin/xcode-maven-plugin&send=false&layout=box_count&show-faces=false&action=like&colorscheme=light"
        scrolling="no" frameborder="0"
        style="border:none; width:48px; height:63px; margin-top: 10px;" ></iframe>
               <div class="clear"></div>
                            <div class="clear"></div>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="builtBy" alt="Built by Maven" src="../images/logos/maven-feather.png" />
      </a>
                  </div>
          </div>
        </div>
        
                        
        <div id="bodyColumn"  class="span10" >
                                  
            <!-- ~ --><!-- #%L --><!-- xcode-maven-plugin --><!-- %% --><!-- Copyright (C) 2012 SAP AG --><!-- %% --><!-- Licensed under the Apache License, Version 2.0 (the "License"); --><!-- you may not use this file except in compliance with the License. --><!-- You may obtain a copy of the License at --><!--  --><!-- http://www.apache.org/licenses/LICENSE-2.0 --><!--  --><!-- Unless required by applicable law or agreed to in writing, software --><!-- distributed under the License is distributed on an "AS IS" BASIS, --><!-- WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. --><!-- See the License for the specific language governing permissions and --><!-- limitations under the License. --><!-- #L% --><!-- ~ --><div class="section"><h2>How to use generic ZIP bundles<a name="How_to_use_generic_ZIP_bundles"></a></h2><div class="section"><h3>Motivation<a name="Motivation"></a></h3><p>The need is to consume content of a dedicated type provided as binary content in a maven repository. An example for this might be to consume java script files, technically provided as a zip archive. In such as a scenario, consuming a dedicated archive might require to also consume archives or content required by the directly consumed component. For example, java script files might use other java script classes, contained in a dependent component. Here it is extremely useful to get all the dependent content just by establishing a dependency to the initially desired component. The know-how about the further dependent stuff is typically only available at the directly consumed component. It should be urgently avoided to force consumers to know about internal dependencies.</p><p>In Maven dependencies are declared with a specific type. This type is mapped to a technical artifact suffix. By default, type and suffix are identical - for example, a zip dependency is mapped to a .zip artifact. The definition of such a type additionally allows to declare the usage of a transitive dependency resolution. For example, there is a type &quot;js&quot; that is mapped to the suffix .zip and declares such a transitive resolution. As a result referring to an &quot;js&quot; artifact means to resolve the .zip file of the directly addressed maven coordinates including all js dependencies, declared by this component.</p><p>Such a type definition is defined in a components.xml that typically comes with a maven plugin.</p></div><div class="section"><h3>Consuming (transitive) archive dependencies<a name="Consuming_transitive_archive_dependencies"></a></h3><ol style="list-style-type: decimal"><li>Provide a maven plugin for the desired type.<p>How artifacts should be handled is described by an artifact handler defined inside the components.xml of a maven plugin.</p><p>There are two properites that are important for our use case.</p><ol style="list-style-type: lower-alpha"><li><b>extension</b>. The extension defines the file appendix that represents the main artifact of the corresponding type.</li><li><b>includesDependencies</b>. Defines whether or not an artifact of the corresponding type includes its dependencies. This property needs to be set to <tt>false</tt> if transitive dependencies should be resolved.</li></ol><p>The components.xml file looks typically like this:</p><div class="source"><pre class="prettyprint">&lt;component-set&gt;
  &lt;components&gt;
    &lt;component&gt;
      &lt;role&gt;org.apache.maven.artifact.handler.ArtifactHandler&lt;/role&gt;
      &lt;role-hint&gt;js&lt;/role-hint&gt; &lt;!-- The type of the dependency as used inside the dependency section --&gt;
      &lt;implementation&gt;org.apache.maven.artifact.handler.DefaultArtifactHandler&lt;/implementation&gt;
      &lt;configuration&gt;
        &lt;extension&gt;zip&lt;/extension&gt; &lt;!-- The file extension of the main artifact. --&gt;
        &lt;language&gt;java-script&lt;/language&gt;
        &lt;addedToClasspath&gt;false&lt;/addedToClasspath&gt;
        &lt;includesDependencies&gt;false&lt;/includesDependencies&gt; &lt;!-- Describes whether or not this artifact contains it dependencies. --&gt;
      &lt;/configuration&gt;
    &lt;/component&gt;
  &lt;/components&gt;
&lt;/component-set&gt;</pre></div></li><li>The plugin described in the last section needs to be incorporated into the pom of the project that makes use of the dependency resolution for additional (transitive) archives.<div class="source"><pre class="prettyprint">&lt;build&gt;
[...]
  &lt;plugins&gt;
  [...]
    &lt;plugin&gt;
      &lt;groupId&gt;THE_GROUP_ID&lt;/groupId&gt;
      &lt;artifactId&gt;THE_ARTIFACT_ID&lt;/artifactId&gt;
      &lt;version&gt;THE_VERSION&lt;/version&gt;
      &lt;extensions&gt;true&lt;/extensions&gt; &lt;!-- Important. If not present the artifact handler 
                                         defined in the components.xml is not taken into account --&gt;
    &lt;/plugin&gt;
  [...]    
  &lt;/plugins&gt;
&lt;/build&gt;
[...]</pre></div></li><li>Configure the way you want to consume the archive component. The way how a dependency type is handled is defined inside the configuration section of the xcode-maven-plugin. Within the tag <tt>additionalPackagingTypes</tt> the packaging type is mapped to a usage type:<div class="source"><pre class="prettyprint">     &lt;build&gt;
        &lt;plugins&gt;
            &lt;plugin&gt;
                &lt;groupId&gt;com.sap.prd.mobile.ios.mios&lt;/groupId&gt;
                &lt;artifactId&gt;xcode-maven-plugin&lt;/artifactId&gt;
                &lt;version&gt;1.9.3&lt;/version&gt;
                &lt;configuration&gt;
                    &lt;additionalPackagingTypes&gt;
                        &lt;js&gt;USAGE_TYPE&lt;/js&gt;
                    &lt;/additionalPackagingTypes&gt;
                &lt;/configuration&gt;
                &lt;extensions&gt;true&lt;/extensions&gt;
            &lt;/plugin&gt;
            .....
        &lt;/plugins&gt;
    &lt;/build&gt;</pre></div><p>USAGE_TYPE could be as follows:</p><ol style="list-style-type: upper-roman"><li>COPY - the archive component will be copied locally after resolving the dependency.</li><li>UNPACK - the archive component will be unpacked locally after resolving the dependency.</li><li>BUNDLE - the archive component will be unpacked and represented as Bundle after resolving the dependency.</li></ol></li><li>Add a dependency to the archive component you want to use into the dependencies section in your pom.xml.<p>Example:</p><div class="source"><pre class="prettyprint">&lt;dependencies&gt;
  &lt;dependency&gt;
    &lt;groupId&gt;GROUP_ID&lt;/groupId&gt;
    &lt;artifactId&gt;ARTIFACT_ID&lt;/artifactId&gt;
    &lt;version&gt;VERSION&lt;/version&gt;
    &lt;type&gt;js&lt;/type&gt; &lt;!-- The type is defined here --&gt;
  &lt;/dependency&gt;
&lt;/dependencies&gt;</pre></div><ul><li>Download the archive dependency locally<p>Open a Terminal and go to the folder containing the pom.xml of your project. Run the following command: <tt>mvn initialize</tt></p></li><li>Result As a result of the above command execution, you will get a folder named <tt>target/xcode-deps/&lt;type&gt; </tt> into your project, where the dependent archive component will be downloaded and processed according to the usage type you have defined.</li></ul></li></ol><p>For</p><ul><li><b>COPY</b> The archive is copied into <tt>target/xcode-deps/&lt;type&gt; </tt> &quot;as it&quot;.</li><li><b>UNPACK</b> The archive is unpacked into <tt>target/xcode-deps/&lt;type&gt; </tt></li><li><b>BUNDLE</b> The archive is unpacked into <tt>target/xcode-deps/&lt;type&gt;/&lt;artifactId&gt;.bundle </tt>. By convention folders with suffix &quot;.bundle&quot; are displayed as bundles.</li></ul></div></div>
                  </div>
            </div>
          </div>

    <hr/>

    <footer>
            <div class="container-fluid">
              <div class="row span12">Copyright &copy;                    2012-2013
                      SAP AG.
            All Rights Reserved.      
            
      </div>

        
        
                </div>
    </footer>
  </body>
</html>
